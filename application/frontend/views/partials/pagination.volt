{%- macro getUrlData(page,urlData) %}{% if page == 1 %}{% return urlData %}{% endif %}{% set urlData= {'for' : urlData['for']~'_pages', 'page' : page, 'alias':urlData['alias']|default(""), 'params':urlData['params']|default(""),'letter':urlData['letter']|default("")} %}{% return urlData %}{%- endmacro %}{% if data.total_pages > 0 %}{% set dootedAfter = 2%}{% set minPage = data.current - dootedAfter < data.first ? data.first : data.current - dootedAfter  %}{% set maxPage = data.current + dootedAfter > data.last ? data.last : data.current + dootedAfter %}<nav class="pagination-block"><ul class="pagination">{% if data.current != data.first %}<li><a rel="prev" class="prev" href="{{ url(getUrlData(data.before,url)) }}" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a></li>{% endif %}{% if data.current - dootedAfter > data.first %}<li><a href="{{ url(getUrlData(data.first,url)) }}">{{ data.first }}</a></li>{% endif %}{% if data.current - dootedAfter  - 1  > data.first %}<li><span>...</span></li>{% endif %}{% set page = minPage %}{% for page in minPage..maxPage %}<li  {% if page == data.current %} rel="canonical" class="active"{% endif %}>{{ link_to(getUrlData(page,url), page) }}</li>{% set page = page+1 %}{% endfor %}{% if data.current + dootedAfter < data.last %}{% if data.current + dootedAfter + 1 < data.last %}<li><span>...</span></li>{% endif %}<li>{{ link_to(getUrlData(data.last,url), data.last) }}{% endif %}</li>{% if data.current != data.last %}<li><a rel="next" class="next" href="{{ url(getUrlData(data.next,url)) }}" aria-label="Next"><span aria-hidden="true">&raquo;</span></a></li>{% endif %}</ul></nav>{% endif %}